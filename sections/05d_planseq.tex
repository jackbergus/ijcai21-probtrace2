
\subsection{Plan Recognition}
\textit{Plan recognition} predicts an agent's plans based on its observed actions. In such scenarios, it is commonly assumed that the possible activities can be exhaustively enumerated in finite time \cite{RamirezG09}. 

Although  an unexpected context change could make the agent change its plan from the initial $\sigma'$ to $\sigma''$, the already-executed plan $\sigma'$ cannot be retracted. Thus, the  resulting set of actions ${\sigma}$ after the context change  shares intermediate features between $\sigma''$ and $\sigma'$, which differences can be described by plan repairs \cite{FoxGLS06}. Given that the set of all the possible plans can be described using stochastic processes such as HMM \cite{LI2020101974}, the plan recognition problem can be reduced to a sequence analysis as in the biological use case. As a result, we can use our pipeline to solve the plan recognition problem and exploit the top-$k$ query to retrieve all the  initial and target plans likely to $\sigma$ by considering both sequence probability and their similarity.


Previous approaches considered \textit{de facto} the shortest paths towards a given goal as the optimal plan for reaching a given destination  \cite{RamirezG10}: this requirement can be met by representing each shortest path of interest as TGs. Furthermore, given that such scenarios estimates the posterior probability $\mathbb{P}(G|\nonlogtrace)$ of having $G$ as a plan's goal dependent on a set of observations $\nonlogtrace\in\mathcal{L}$ as $\propto \mathbb{P}(\nonlogtrace|G)\mathbb{P}(G)$, where $\mathbb{P}(G)$ is a probability distribution  over the goals $G\in\mathcal{G}$ and $\mathbb{P}(G|\nonlogtrace)$ is  proportional to $s_d(\logtrace,\nonlogtrace)$, we can model such problems using the optimal ranking by $s=s_d(\logtrace,\nonlogtrace)$ and $p=\mathbb{P}(G)$, and we can exploit the approximate ranking by choosing $\omega=\mathbb{P}(G)$ and representing $\sigma'$ as Fig.\ref{fig:taustar}.